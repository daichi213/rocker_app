I"ì(function() {
  this.CurrentLocations = (function() {
    var failGetPosition, options, successGetPosition;

    function CurrentLocations() {}

    CurrentLocations.getCurrentLocation = function() {
      return $('.currentLocation').on('click', function() {
        var message;
        if (navigator.geolocation) {
          return navigator.geolocation.getCurrentPosition(successGetPosition, failGetPosition, options);
        } else {
          message = 'ã”ä½¿ç”¨ä¸­ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯ç¾åœ¨åœ°æ¤œç´¢ã«å¯¾å¿œã•ã‚Œã¦ãŠã‚Šã¾ã›ã‚“ã€‚';
          return Alert.set('warning', message);
        }
      });
    };

    successGetPosition = function(position) {
      return window.location.href = "/shops/searches?latitude=" + position.coords.latitude + "&longitude=" + position.coords.longitude;
    };

    options = {
      enableHighAccuracy: true
    };

    failGetPosition = function(error) {
      var message;
      switch (error.code) {
        case 1:
          message = 'ä½ç½®æƒ…å ±ã®æä¾›ã‚’è¨±å¯ã—ã¦ãã ã•ã„ã€‚';
          break;
        case 2:
          message = 'ä½ç½®æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚';
      }
      return Alert.set('warning', message);
    };

    return CurrentLocations;

  })();

}).call(this);
:ET